{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}Front‑end Cache Control{% endblock %}

{% block content %}
  <h1>Front‑end Cache Control</h1>

  <form method="post" id="cache-form">
    {% csrf_token %}
    <div style="margin-bottom:1em;">
      <button type="button" id="select-all">Select All</button>
      <button type="submit">Clear Selected</button>
    </div>

    <ul style="list-style:none; padding:0;">
      {% for tag in tags %}
        <li>
          <label>
            <input type="checkbox" name="tags" value="{{ tag }}"> {{ tag }}
          </label>
        </li>
      {% endfor %}
    </ul>
  </form>

  <script>
    document.getElementById("select-all").addEventListener("click", function() {
      document.querySelectorAll('#cache-form input[type=checkbox]')
              .forEach(cb => cb.checked = true);
    });
  </script>
{% endblock %}
